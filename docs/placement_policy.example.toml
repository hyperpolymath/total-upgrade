# Placement policy example for Kinoite Phase 1

[weights]
dependability = 3
security = 4
interoperability = 3
functional_fit = 4
containability = 4
performance = 2
efficiency = 2
reversibility = 3
clean_removal = 3
state_retention = 2
auditability = 3
cost_risk = 2

[constraints]
kernel_module = ["rpm_ostree_host"]
driver = ["rpm_ostree_host"]
system_service = ["rpm_ostree_host"]
gui_app = ["flatpak_user", "flatpak_system"]
toolchain = ["toolbox", "distrobox", "asdf"]
service = ["nerdctl", "podman_oci"]
untrusted_app = ["nerdctl", "podman_oci", "vm"]
containment_preferred = ["nerdctl", "podman_oci", "toolbox", "distrobox", "vm"]
distroless_preferred = ["distroless", "wolfi"]

[overrides]
# Example:
# "org.example.LegacyApp" = { surface = "rpm_ostree_layered", reason = "vendor_rpm_only" }

[tag_weights]
container = 3
vm = 2
distroless = 3
wolfi = 2

[profiles.zero_trace]
containability = 3
clean_removal = 3

[profiles.state_vault]
state_retention = 3

[profiles.multi_version]
reversibility = 2
containability = 2

[state]
vault_path = "/var/lib/dnfinition/state-vault"

[state.paths_by_intent]
gui_app = ["~/.config/{package_id}", "~/.local/share/{package_id}"]
cli_tool = ["~/.config/{package_id}"]
toolchain = ["~/.tool-versions"]
